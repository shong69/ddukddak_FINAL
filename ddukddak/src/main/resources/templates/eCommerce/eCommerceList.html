<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>뚝딱뚝딱 : 쇼핑</title>

    <link rel="stylesheet" href="/css/common/fragments/header.css">
    <link rel="stylesheet" href="/css/common/fragments/footer.css">
    <link rel="stylesheet" href="/css/common/main.css">
    <link rel="stylesheet" href="/css/eCommerce/eCommerceList.css">
    <link rel="icon" type="image/x-icon" href="/images/main/favicon.ico">

    <script src="https://kit.fontawesome.com/74d1671a70.js" crossorigin="anonymous"></script>
</head>
<body>
    <th:block th:replace="~{common/fragments/header}"></th:block>

    <!-- 검색엔진 -->
    <th:block th:replace="~{eCommerce/common/searchHeader}"></th:block>

    <!-- 카테고리 -->
    <th:block th:replace="~{eCommerce/common/category}"></th:block>

    <div id="detail">
        <!-- 상세 카테고리-->
        <th:block th:replace="~{eCommerce/common/leftCategory}"></th:block>



        <!-- 상품리스트 -->
        <div id="productList">
            <div>
                <select>
                    <option>최신순</option>
                    <option>오래된순</option>
                    <option>가격 높은순</option>
                    <option>가격 낮은순</option>
                </select>
            </div>


            <div>
                <table>
                    <tr th:each="row : ${#numbers.sequence(0, 2)}">
                        <td th:each="col : ${#numbers.sequence(row * 4, row * 4 + 3)}">
                            <div th:if="${col < selectProductList.size()}">
                                <a th:href="@{'/eCommerce/list/' + ${selectProductList[col].bigCategoryNo} + '/' + ${selectProductList[col].categoryNo} + '/' + ${selectProductList[col].productNo} + '/detail'}">
                                    <div><img th:src="|${selectProductList[col].uploadImgPath}${selectProductList[col].uploadImgOgName}|"></div>
                                    <div>
                                        <h4 th:text="${selectProductList[col].productName}">상품이름</h4>
                                    </div>
                                    <div>
                                        <h3 style="color: #3A732A; margin-right: 15px;">32%</h3>
                                        <h3 th:text="${selectProductList[col].productPrice} + '원'" class="productPrice">상품가격</h3>
                                    </div>
                                    <div>
                                        <img src="/images/main/star.png" style="height: 10px;">
                                        <h5 style="margin-right: 5px;">4.1</h5>
                                        <h5 style="color: #9B9B9B;">리뷰 78개</h5>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- 페이지네이션 -->
            <div class="pagination" style="margin-top: 100px; margin-bottom: 30px;">
                <!--검색 안한 경우-->
                <ul class = "pagination" th:object="${pagination}">
                    <li><a th:href="@{|/eCommerce/list/${bigCategoryNo}/${smallCategoryNo}?cp=1|}">&lt;&lt;</a></li>
                    <li><a th:href="@{|/eCommerce/list/${bigCategoryNo}/${smallCategoryNo}?cp=*{prevPage}|}">&lt;</a></li>
        
                    <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">

                        <li th:if="${i} == *{currentPage}">
                            <a class="current" th:text="${i}" style="font-weight: bold;">현재페이지</a>
                        </li>

                        <li th:unless="${i} == *{currentPage}">
                            <a th:href="@{|/eCommerce/list/${bigCategoryNo}/${smallCategoryNo}?cp=${i}|}"
                            th:text="${i}">이동할 페이지</a>
                        </li>
                        
                    </th:block>
        
                
                    <li>
                        <a th:href="@{|/eCommerce/list/${bigCategoryNo}/${smallCategoryNo}?cp=*{nextPage}|}">&gt;</a>
                    </li>
                    <li><a th:href="@{|/eCommerce/list/${bigCategoryNo}/${smallCategoryNo}?cp=*{maxPage}|}">&gt;&gt;</a></li>
                </ul>
                
            
            </div>

        </div>
    </div>
    
    <th:block th:replace="~{common/fragments/footer}"></th:block>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/js/eCommerce/eCommerceList.js"></script>
</body>
</html>